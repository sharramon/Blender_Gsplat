
cd /d C:\Chang\GSplat\Splats\Transformer_2
if exist colmap_data rmdir /s /q colmap_data

mkdir colmap_data
mkdir colmap_data\images
xcopy /e /i /y images colmap_data\images

del /q colmap_data\db_on.db 2>nul
rmdir /s /q colmap_data\sparse_on 2>nul
mkdir colmap_data\sparse_on

colmap feature_extractor --database_path colmap_data\db_on.db --image_path colmap_data\images --ImageReader.single_camera 1 --ImageReader.camera_model OPENCV
colmap exhaustive_matcher --database_path colmap_data\db_on.db
colmap mapper --database_path colmap_data\db_on.db --image_path colmap_data\images --output_path colmap_data\sparse_on


ns-process-data images --data colmap_data --output-dir colmap_data --skip-colmap --skip-image-processing --colmap-model-path sparse_on/0

ns-train splatfacto --data colmap_data

